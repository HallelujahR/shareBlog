{"remainingRequest":"/usr/local/var/www/blog/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/local/var/www/blog/blog/src/components/User/detail.vue?vue&type=style&index=0&id=192dee95&lang=scss&scoped=true&","dependencies":[{"path":"/usr/local/var/www/blog/blog/src/components/User/detail.vue","mtime":1547793389103},{"path":"/usr/local/var/www/blog/blog/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/sass-loader/lib/loader.js","mtime":1533139052000},{"path":"/usr/local/var/www/blog/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n@import \"@/assets/css/user/detail.scss\";\n",{"version":3,"sources":["detail.vue"],"names":[],"mappings":";AACA","file":"detail.vue","sourceRoot":"src/components/User","sourcesContent":["<style lang=\"scss\" scoped>\n@import \"@/assets/css/user/detail.scss\";\n</style>\n\n<template>\n  <div v-loading=\"loading\"\n       id=\"detail\">\n    <el-form :model=\"ruleForm\"\n             :rules=\"rules\"\n             :label-position=\"labelPosition\"\n             ref=\"ruleForm\"\n             label-width=\"100px\"\n             class=\"demo-ruleForm\">\n\n      <el-form-item label=\"ÊâãÊú∫Âè∑\">\n        <el-input v-model=\"ruleForm.phone\"\n                  :disabled=\"true\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"ÊòµÁß∞\"\n                    prop=\"name\">\n        <el-input v-model=\"ruleForm.name\"\n                  placeholder=\"ÊòµÁß∞\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"‰∏ÄÂè•ËØù‰ªãÁªç\"\n                    prop=\"introduction\">\n        <el-input v-model=\"ruleForm.introduction\"\n                  placeholder=\"‰∏ÄÂè•ËØù‰ªãÁªç\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"ÊïôËÇ≤ÁªèÂéÜ\"\n                    prop=\"education\">\n        <el-input v-model=\"ruleForm.education\"\n                  placeholder=\"ÊïôËÇ≤ÁªèÂéÜ\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"ËÅå‰∏ö\"\n                    prop=\"occupation\">\n        <el-input v-model=\"ruleForm.occupation\"\n                  placeholder=\"ËÅå‰∏ö\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"Áà±Â•Ω\"\n                    prop=\"hobby\">\n        <!-- <el-input v-model=\"ruleForm.hobby\"\n                  placeholder=\"Áà±Â•ΩÔºåÂ¶ÇÁîµÁ´ûÔºåÊëÑÂΩ±ÔºåÂÜô‰Ωú\"></el-input> -->\n        <el-tag :key=\"tag\"\n                v-for=\"tag in dynamicTags\"\n                closable\n                style=\"margin-right:10px\"\n                :disable-transitions=\"false\"\n                @close=\"handleClose(tag)\">\n          {{tag}}\n        </el-tag>\n        <el-input class=\"input-new-tag\"\n                  v-if=\"inputVisible\"\n                  v-model=\"inputValue\"\n                  ref=\"saveTagInput\"\n                  size=\"small\"\n                  @keyup.enter.native=\"handleInputConfirm\"\n                  @blur=\"handleInputConfirm\">\n        </el-input>\n        <el-button v-else\n                   class=\"button-new-tag\"\n                   size=\"small\"\n                   @click=\"showInput\">Ê∑ªÂä†Áà±Â•Ω</el-button>\n      </el-form-item>\n\n      <el-form-item label=\"‰∏™‰∫∫Á´ôÁÇπ\"\n                    prop=\"web\">\n        <el-input v-model=\"ruleForm.web\"\n                  placeholder=\"Â¶ÇÔºöhttp://www.rivered.cnÔºàÂ¶ÇÊûúÊ≤°ÊúâÈªòËÆ§‰∏∫Á©∫Ôºâ\"></el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\"\n                   @click=\"submitForm('ruleForm')\">‰øùÂ≠ò</el-button>\n        <el-button @click=\"resetForm('ruleForm')\">ÈáçÁΩÆ</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n\n<script>\nimport { mapActions } from 'vuex';\nexport default {\n  data () {\n    return {\n      dynamicTags: ['ÁØÆÁêÉ', 'ÊëÑÂΩ±', 'Áúã‰π¶'],// Áà±Â•ΩÊ†áÁ≠æ\n      inputVisible: false,\n      inputValue: '',\n\n      detail: {},\n      labelPosition: 'left',//formË°®ÂçïÂØπÈΩêÊñπÂºè\n\n      loading: true,\n      ruleForm: {\n        phone: '',//ÊâãÊú∫Âè∑\n        name: '',//ÊòµÁß∞\n        introduction: '',//‰∏ÄÂè•ËØù\n        education: '',//ÊïôËÇ≤\n        occupation: '',//ËÅå‰∏ö\n        hobby: '',//Áà±Â•Ω\n        web: '',//‰∏™‰∫∫Á´ôÁÇπ\n\n      },\n\n      rules: {\n        name: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôÊòµÁß∞', trigger: 'blur' },\n          { min: 3, max: 10, message: 'ÈïøÂ∫¶Âú® 2 Âà∞ 10 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        introduction: [\n          { required: true, message: 'ËØ∑Â°´ÂÜô‰ªãÁªç', trigger: 'blur' },\n          { min: 3, max: 40, message: 'ÈïøÂ∫¶Âú® 3 Âà∞ 40 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        education: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôÊïôËÇ≤', trigger: 'blur' },\n          { min: 2, max: 40, message: 'ÈïøÂ∫¶Âú® 2 Âà∞ 40 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        occupation: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôËÅå‰∏ö', trigger: 'blur' },\n          { min: 2, max: 40, message: 'ÈïøÂ∫¶Âú® 2 Âà∞ 40 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        web: [\n          { pattern: /^([hH][tT]{2}[pP]:\\/\\/|[hH][tT]{2}[pP][sS]:\\/\\/)(([A-Za-z0-9-~]+)\\.)+([A-Za-z0-9-~\\\\/])+$/, message: 'ÁΩëÁ´ôÊ†ºÂºè‰∏çÊ≠£Á°Æ', trigger: 'blur' }\n        ]\n\n      }\n    }\n  },\n  mounted () {\n    this.loading = false;\n  },\n  computed: {\n\n  },\n  created: function () {\n\n    //Ëé∑ÂèñË∑ØÁî±‰º†ÈÄíËøáÊù•ÁöÑÁî®Êà∑id\n    this.id = this.$route.params.id;\n    //Êï∞ÊçÆ\n    let paramsObj = {\n      id: this.id,\n    }\n    //ÂèëÈÄÅaxios Ëé∑Âèñ‰º†ÈÄíËøáÊù•idÂØπÁî®ÁöÑÁî®Êà∑ÁöÑÊï∞ÊçÆ\n    this.$server.getInformation(paramsObj).then(data => {\n      //Ëé∑ÂèñÂà∞Áî®Êà∑ÁöÑÂü∫Êú¨‰ø°ÊÅØ\n      this.user = data;\n      //Ëé∑ÂèñÂà∞Áî®Êà∑ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ\n      //ÊääËé∑ÂèñÂà∞ÁöÑÁõ∏‰ø°‰ø°ÊÅØÊõ¥Êñ∞Âà∞ÂΩìÂâçÈ°µÈù¢\n      this.ruleForm = data.user_detail;\n      this.ruleForm['name'] = data.name;\n      this.ruleForm['phone'] = data.phone;\n      this.ruleForm['introduction'] = data.introduction;\n\n    }).catch(err => {\n      // eslint-disable-next-line no-console\n      console.log(err);\n    })\n  },\n  methods: {\n    //Áî®Êù•ËÆæÁΩÆvuexÁöÑÊï∞ÊçÆ\n    ...mapActions([\n      'setUser',\n    ]),\n    submitForm (formName) {\n      this.$refs[formName].validate((valid) => {\n        //Âà§Êñ≠Ë°®ÂçïÊï∞ÊçÆÊòØÂê¶Ê≠£Á°Æ\n        if (valid) {\n          //Ëé∑ÂèñË°®ÂçïÊï∞ÊçÆ\n          let paramObj = this.ruleForm;\n          //ÂèëÈÄÅËØ∑Ê±ÇÊõ¥ÊîπÁî®Êà∑‰ø°ÊÅØ\n          this.$server.editDetail(paramObj).then(data => {\n\n            //ÊèêÁ§∫‰ø°ÊÅØ\n            this.$message({\n              type: 'success',\n              message: '‰øÆÊîπÊàêÂäü üòä'\n            });\n            // eslint-disable-next-line no-console\n            console.log(this.setUser);\n            //ÊàêÂäüÂêéÊõ¥ÊîπÁî®Êà∑Êú¨Âú∞‰ø°ÊÅØ\n            this.setUser(data);\n\n\n          }).catch(err => {\n            this.$message({\n              type: 'warning',\n              message: '‰øÆÊîπÂ§±Ë¥• üòì'\n            });\n            // eslint-disable-next-line no-console\n            console.log(err);\n          })\n\n        } else {\n          alert('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm (formName) {\n      //ÈáçÂà∂Ë°®Âçï\n      this.$refs[formName].resetFields();\n    },\n    //Áà±Â•Ω Ê†áÁ≠æÁöÑÁõ∏ÂÖ≥Êìç‰Ωú\n    handleClose (tag) {\n      this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n    },\n\n    //Ê∑ªÂä†Áà±Â•ΩÁöÑÁõ∏ÂÖ≥Êìç‰Ωú\n    showInput () {\n      this.inputVisible = true;\n      this.$nextTick(() => {\n        this.$refs.saveTagInput.$refs.input.focus();\n      });\n    },\n    //Ê∑ªÂä†Áà±Â•ΩÁöÑÁõ∏ÂÖ≥Êìç‰Ωú\n    handleInputConfirm () {\n      let inputValue = this.inputValue;\n      if (inputValue) {\n        this.dynamicTags.push(inputValue);\n      }\n      this.inputVisible = false;\n      this.inputValue = '';\n    }\n  }\n}\n</script>"]}]}