{"remainingRequest":"/usr/local/var/www/blog/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/local/var/www/blog/blog/src/components/User/detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/local/var/www/blog/blog/src/components/User/detail.vue","mtime":1554101749609},{"path":"/usr/local/var/www/blog/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapActions } from 'vuex';\nexport default {\n  data () {\n    return {\n      //ËØùÈ¢ò Ê†áÁ≠æ Áõ∏ÂÖ≥\n      dynamicTags: [],// Áà±Â•ΩÊ†áÁ≠æ\n      options: null,\n      defaultTopic: [],\n      inputVisible: false,\n      inputValue: '',\n      innerVisible: false,//topic ÂµåÂ•óÂÜÖÂ±Çdiv\n      detail: {},\n      labelPosition: 'left',//formË°®ÂçïÂØπÈΩêÊñπÂºè\n\n      loading: true,\n      ruleForm: {\n        phone: '',//ÊâãÊú∫Âè∑\n        name: '',//ÊòµÁß∞\n        introduction: '',//‰∏ÄÂè•ËØù\n        education: '',//ÊïôËÇ≤\n        occupation: '',//ËÅå‰∏ö\n        hobby: '',//Áà±Â•Ω\n        web: '',//‰∏™‰∫∫Á´ôÁÇπ\n\n      },\n\n      dialogVisible: false,//ÊéßÂà∂ÂºπÂá∫Â±Ç\n      rules: {\n        name: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôÊòµÁß∞', trigger: 'blur' },\n          { min: 3, max: 10, message: 'ÈïøÂ∫¶Âú® 2 Âà∞ 10 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        introduction: [\n          { required: true, message: 'ËØ∑Â°´ÂÜô‰ªãÁªç', trigger: 'blur' },\n          { min: 3, max: 40, message: 'ÈïøÂ∫¶Âú® 3 Âà∞ 40 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        education: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôÊïôËÇ≤', trigger: 'blur' },\n          { min: 2, max: 40, message: 'ÈïøÂ∫¶Âú® 2 Âà∞ 40 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        occupation: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôËÅå‰∏ö', trigger: 'blur' },\n          { min: 2, max: 40, message: 'ÈïøÂ∫¶Âú® 2 Âà∞ 40 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        web: [\n          { pattern: /^([hH][tT]{2}[pP]:\\/\\/|[hH][tT]{2}[pP][sS]:\\/\\/)(([A-Za-z0-9-~]+)\\.)+([A-Za-z0-9-~\\\\/])+$/, message: 'ÁΩëÁ´ôÊ†ºÂºè‰∏çÊ≠£Á°Æ', trigger: 'blur' }\n        ],\n\n      },\n      topicForm: {\n        name: '',//Ê†áÁ≠æÂêç\n        description: '', //Ê†áÁ≠æÊèèËø∞\n      },\n      topicRules: {\n        name: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôÂêçÁß∞', trigger: 'blur' },\n          { min: 1, max: 15, message: 'ÈïøÂ∫¶Âú® 1 Âà∞ 15 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        description: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôÊ†áÁ≠æ‰ªãÁªç', trigger: 'blur' },\n          { min: 1, max: 140, message: 'ÈïøÂ∫¶Âú® 1 Âà∞ 140 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n      },\n    }\n  },\n  mounted () {\n    this.loading = false;\n\n  },\n  computed: {\n\n  },\n  created: function () {\n    this.getPersonalTopic();\n    //Ëé∑ÂèñË∑ØÁî±‰º†ÈÄíËøáÊù•ÁöÑÁî®Êà∑id\n    this.id = this.$route.params.id;\n    //Êï∞ÊçÆ\n    let paramsObj = {\n      id: this.id,\n    }\n    //ÂèëÈÄÅaxios Ëé∑Âèñ‰º†ÈÄíËøáÊù•idÂØπÁî®ÁöÑÁî®Êà∑ÁöÑÊï∞ÊçÆ\n    this.$server.getInformation(paramsObj).then(data => {\n      //Ëé∑ÂèñÂà∞Áî®Êà∑ÁöÑÂü∫Êú¨‰ø°ÊÅØ\n      this.user = data;\n      //Ëé∑ÂèñÂà∞Áî®Êà∑ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ\n      //ÊääËé∑ÂèñÂà∞ÁöÑÁõ∏‰ø°‰ø°ÊÅØÊõ¥Êñ∞Âà∞ÂΩìÂâçÈ°µÈù¢\n      data.user_detail = Object.assign(data, data.user_detail);\n      this.ruleForm = data.user_detail;\n\n      // this.ruleForm['name'] = data.name;\n      // this.ruleForm['phone'] = data.phone;\n      // this.ruleForm['introduction'] = data.introduction;\n\n    }).catch(err => {\n      // eslint-disable-next-line no-console\n      console.log(err);\n    })\n  },\n  methods: {\n    //Áî®Êù•ËÆæÁΩÆvuexÁöÑÊï∞ÊçÆ\n    ...mapActions([\n      'setUser',\n    ]),\n    submitForm (formName) {\n      this.$refs[formName].validate((valid) => {\n        //Âà§Êñ≠Ë°®ÂçïÊï∞ÊçÆÊòØÂê¶Ê≠£Á°Æ\n        if (valid) {\n          //Ëé∑ÂèñË°®ÂçïÊï∞ÊçÆ\n          let paramObj = this.ruleForm;\n          //ÂèëÈÄÅËØ∑Ê±ÇÊõ¥ÊîπÁî®Êà∑‰ø°ÊÅØ\n          this.$server.editDetail(paramObj).then(data => {\n\n            //ÊèêÁ§∫‰ø°ÊÅØ\n            this.$message({\n              type: 'success',\n              message: '‰øÆÊîπÊàêÂäü üòä'\n            });\n            // eslint-disable-next-line no-console\n            console.log(this.setUser);\n            //ÊàêÂäüÂêéÊõ¥ÊîπÁî®Êà∑Êú¨Âú∞‰ø°ÊÅØ\n            this.setUser(data);\n\n\n          }).catch(err => {\n            this.$message({\n              type: 'warning',\n              message: '‰øÆÊîπÂ§±Ë¥• üòì'\n            });\n            // eslint-disable-next-line no-console\n            console.log(err);\n          })\n\n        } else {\n          //ÊèêÁ§∫‰ø°ÊÅØ\n          this.$message({\n            type: 'warning',\n            message: '‰øÆÊîπÂ§±Ë¥•,Â∏¶Êúâ * ‰∏∫ÂøÖÂ°´È°π'\n          });\n\n          return false;\n        }\n      });\n    },\n    resetForm (formName) {\n      //ÈáçÂà∂Ë°®Âçï\n      this.$refs[formName].resetFields();\n\n    },\n    //ËØùÈ¢òÊ†áÁ≠æ\n    //Âà†Èô§Ê†áÁ≠æËß¶Âèë\n    handleClose (tag) {\n      this.$confirm('ÊÇ®Â∞ÜÁßªÈô§Ê≠§Ê†áÁ≠æ', {\n        confirmButtonText: 'Á°ÆÂÆö',\n        cancelButtonText: 'ÂèñÊ∂à',\n        type: 'warning'\n      }).then(() => {\n        let paramObj = {\n          'tag': tag,\n          'uid': this.$route.params.id,\n        };\n        this.$server.delPersonalTopic(paramObj).then(data => {\n          if (data == 1) {\n            this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n            this.$message({\n              type: 'success',\n              message: 'Âà†Èô§ÊàêÂäü!'\n            });\n          }\n\n        }).catch(err => {\n          // eslint-disable-next-line no-console\n          console.log(err);\n        })\n\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: 'Â∑≤ÂèñÊ∂àÂà†Èô§'\n        });\n      });\n\n    },\n    //ÂàõÂª∫Ê†áÁ≠æÊèê‰∫§ÊåâÈíÆ\n    subTopicForm (formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let paramObj = this.topicForm;\n          this.$server.storeTopic(paramObj).then(data => {\n            this.innerVisible = false;\n            //ÂêàÂπ∂Êï∞ÁªÑ\n            this.options = this.options.concat(data);\n          }).catch(err => {\n            // eslint-disable-next-line no-console\n            console.log(err);\n            //ÊèêÁ§∫‰ø°ÊÅØ\n            this.$message({\n              type: 'warning',\n              message: 'Ê∑ªÂä†Â§±Ë¥•ÔºåÊ†áÁ≠æÂ∑≤Â≠òÂú®'\n            });\n          });\n\n        } else {\n          // eslint-disable-next-line no-console\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    //ÁÇπÂáª‚ÄúÊ≤°ÊâæÂà∞ÊÉ≥Ë¶ÅÁöÑ‚ÄùËß¶Âèë\n    topicAdd () {\n      // eslint-disable-next-line no-console\n      console.log(this.dynamicTags);\n      this.innerVisible = true;\n\n    },\n    //ÂàõÂª∫Ê†áÁ≠æÈáçÂà∂ÊåâÈíÆ\n    resTopicForm (formName) {\n      this.$refs[formName].resetFields();\n    },\n    //Ëé∑Âèñ‰∏™‰∫∫Ê†áÁ≠æ\n    getPersonalTopic () {\n      let paramObj = this.$route.params.id;\n      this.$server.getPersonalTopic(paramObj).then(data => {\n        for (let num = 0; num < data.length; num++) {\n          this.dynamicTags.push(data[num]['topic_name']);\n        }\n        // eslint-disable-next-line no-console\n        // console.log(this.dynamicTags);\n      }).catch(err => {\n        // eslint-disable-next-line no-console\n        console.log(err);\n      })\n    },\n    //Êï∞ÁªÑÂéªÈáç Áî®Êà∑Â∑≤ÊúâÁöÑÊ†áÁ≠æ‰∏ç‰ºöÂá∫Áé∞Âú®ÈÄâÈ°πÂΩì‰∏≠\n    clearTopic () {\n      // Ëé∑Âèñ‰∏™ÊÄßÊ†áÁ≠æ\n      this.$server.allTopic().then(data => {\n        this.options = data.data;\n        for (let a = 0; a < this.options.length; a++) {\n          for (let i = 0; i < this.dynamicTags.length; i++) {\n            if (this.options[a].name == this.dynamicTags[i]) {\n              this.options.splice(a, 1);\n            }\n          }\n        }\n\n      }).catch(err => {\n        // eslint-disable-next-line no-console\n        console.log(err);\n      })\n    },\n    //ÁÇπÂáªÁ°ÆÂÆöÂ¢ûÂä†‰∏™‰∫∫Ê†áÁ≠æ\n    addPersonalTopic () {\n      let newArr = {};\n      let topicName = '';\n      let topicAddName = [];\n      for (let num = 0; num < this.defaultTopic.length; num++) {\n        for (let topicNum = 0; topicNum < this.options.length; topicNum++) {\n          if (this.options[topicNum]['id'] == this.defaultTopic[num]) {\n            topicName = this.options[topicNum]['name'];\n          }\n        }\n        newArr[num] = { 'topic_id': this.defaultTopic[num], 'topic_name': topicName };\n        topicAddName[num] = topicName;\n      }\n\n      let paramObj = newArr;\n      this.$server.addTopic(paramObj).then(data => {\n        if (data == 1) {\n          this.dynamicTags = this.dynamicTags.concat(topicAddName);\n          this.clearTopic();\n          this.defaultTopic = [];\n          this.$message({\n            type: 'success',\n            message: '‰øÆÊîπÊàêÂäü!'\n          });\n        }\n\n      }).catch(err => {\n        // eslint-disable-next-line no-console\n        console.log(err);\n      })\n    },\n\n  }\n}\n",{"version":3,"sources":["detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"detail.vue","sourceRoot":"src/components/User","sourcesContent":["<style lang=\"scss\" scoped>\n@import \"@/assets/css/user/detail.scss\";\n</style>\n\n<template>\n  <div v-loading=\"loading\"\n       id=\"detail\">\n    <el-form :model=\"ruleForm\"\n             :rules=\"rules\"\n             :label-position=\"labelPosition\"\n             ref=\"ruleForm\"\n             label-width=\"100px\"\n             class=\"demo-ruleForm\">\n\n      <el-form-item label=\"ÊâãÊú∫Âè∑\">\n        <el-input v-model=\"ruleForm.phone\"\n                  :disabled=\"true\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"ÊòµÁß∞\"\n                    prop=\"name\">\n        <el-input v-model=\"ruleForm.name\"\n                  placeholder=\"ÊòµÁß∞\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"‰∏ÄÂè•ËØù‰ªãÁªç\"\n                    prop=\"introduction\">\n        <el-input v-model=\"ruleForm.introduction\"\n                  placeholder=\"‰∏ÄÂè•ËØù‰ªãÁªç\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"ÊïôËÇ≤ÁªèÂéÜ\"\n                    prop=\"education\">\n        <el-input v-model=\"ruleForm.education\"\n                  placeholder=\"ÊïôËÇ≤ÁªèÂéÜ\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"ËÅå‰∏ö\"\n                    prop=\"occupation\">\n        <el-input v-model=\"ruleForm.occupation\"\n                  placeholder=\"ËÅå‰∏ö\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"Ê†áÁ≠æ\"\n                    prop=\"hobby\">\n\n        <el-tag :key=\"index\"\n                :value=\"tag\"\n                v-for=\"(tag,index) in dynamicTags\"\n                closable\n                :disable-transitions=\"false\"\n                @close=\"handleClose(tag,index)\">\n          {{tag}}\n        </el-tag>\n        <el-input class=\"input-new-tag\"\n                  v-if=\"inputVisible\"\n                  v-model=\"inputValue\"\n                  ref=\"saveTagInput\"\n                  size=\"small\"\n                  @keyup.enter.native=\"handleInputConfirm\"\n                  @blur=\"handleInputConfirm\">\n        </el-input>\n        <el-button type=\"text\"\n                   style=\"margin-left:10px;\"\n                   @click=\"dialogVisible = true,clearTopic()\">+Ê∑ªÂä†Ê†áÁ≠æ</el-button>\n        <!-- ÂºπÂá∫Â±Ç Ê∑ªÂä†Ê†áÁ≠æstart -->\n        <el-dialog title=\"Ê∑ªÂä†Ê†áÁ≠æ\"\n                   :visible.sync=\"dialogVisible\"\n                   width=\"40%\">\n          <el-select v-model=\"defaultTopic\"\n                     style=\"width:90%;\"\n                     multiple\n                     filterable\n                     placeholder=\"ËØ∑ÈÄâÊã©\">\n            <el-option v-for=\"item in options\"\n                       :key=\"item.id\"\n                       :label=\"item.name\"\n                       :value=\"item.id\">\n            </el-option>\n          </el-select>\n          <el-button type=\"text\"\n                     @click=\"topicAdd()\">Ê≤°ÊâæÂà∞ÊÉ≥Ë¶ÅÁöÑÔºüÁÇπÂáªÊ≠§Â§ÑÂàõÂª∫‰∏Ä‰∏™Ê†áÁ≠æ</el-button>\n          <span slot=\"footer\"\n                class=\"dialog-footer\">\n            <el-button @click=\"dialogVisible = false\">Âèñ Ê∂à</el-button>\n            <el-button type=\"primary\"\n                       @click=\"dialogVisible = false,addPersonalTopic()\">Á°Æ ÂÆö</el-button>\n          </span>\n          <!-- ÂÜÖÂ±ÇÁ≠æÂà∞ÂºπÂá∫Â±Ç ÂàõÂª∫Ê†áÁ≠æ start -->\n          <el-dialog width=\"30%\"\n                     title=\"ÂàõÂª∫Ê†áÁ≠æ\"\n                     :visible.sync=\"innerVisible\"\n                     append-to-body>\n            <el-form :model=\"topicForm\"\n                     :rules=\"topicRules\"\n                     ref=\"topicForm\"\n                     label-width=\"100px\"\n                     class=\"demo-ruleForm\">\n              <el-form-item label=\"Ê†áÁ≠æÂêçÁß∞\"\n                            prop=\"name\">\n                <el-input v-model=\"topicForm.name\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"Ê†áÁ≠æÊèèËø∞\"\n                            row=\"6\"\n                            prop=\"description\">\n                <el-input type=\"textarea\"\n                          v-model=\"topicForm.description\"></el-input>\n              </el-form-item>\n              <el-form-item>\n                <el-button type=\"primary\"\n                           @click=\"subTopicForm('topicForm')\">Á´ãÂç≥ÂàõÂª∫</el-button>\n                <el-button @click=\"resTopicForm('topicForm')\">ÈáçÁΩÆ</el-button>\n              </el-form-item>\n            </el-form>\n          </el-dialog>\n          <!-- ÂÜÖÂ±ÇÁ≠æÂà∞ÂºπÂá∫Â±Ç ÂàõÂª∫Ê†áÁ≠æ end -->\n        </el-dialog>\n\n        <!-- Ê∑ªÂä†Ê†áÁ≠æ end -->\n\n      </el-form-item>\n\n      <el-form-item label=\"‰∏™‰∫∫Á´ôÁÇπ\"\n                    prop=\"web\">\n        <el-input v-model=\"ruleForm.web\"\n                  placeholder=\"Â¶ÇÔºöhttp://www.rivered.cnÔºàÂ¶ÇÊûúÊ≤°ÊúâÈªòËÆ§‰∏∫Á©∫Ôºâ\"></el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\"\n                   @click=\"submitForm('ruleForm')\">‰øùÂ≠ò</el-button>\n        <el-button @click=\"resetForm('ruleForm')\">ÈáçÁΩÆ</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n\n</template>\n\n\n<script>\nimport { mapActions } from 'vuex';\nexport default {\n  data () {\n    return {\n      //ËØùÈ¢ò Ê†áÁ≠æ Áõ∏ÂÖ≥\n      dynamicTags: [],// Áà±Â•ΩÊ†áÁ≠æ\n      options: null,\n      defaultTopic: [],\n      inputVisible: false,\n      inputValue: '',\n      innerVisible: false,//topic ÂµåÂ•óÂÜÖÂ±Çdiv\n      detail: {},\n      labelPosition: 'left',//formË°®ÂçïÂØπÈΩêÊñπÂºè\n\n      loading: true,\n      ruleForm: {\n        phone: '',//ÊâãÊú∫Âè∑\n        name: '',//ÊòµÁß∞\n        introduction: '',//‰∏ÄÂè•ËØù\n        education: '',//ÊïôËÇ≤\n        occupation: '',//ËÅå‰∏ö\n        hobby: '',//Áà±Â•Ω\n        web: '',//‰∏™‰∫∫Á´ôÁÇπ\n\n      },\n\n      dialogVisible: false,//ÊéßÂà∂ÂºπÂá∫Â±Ç\n      rules: {\n        name: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôÊòµÁß∞', trigger: 'blur' },\n          { min: 3, max: 10, message: 'ÈïøÂ∫¶Âú® 2 Âà∞ 10 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        introduction: [\n          { required: true, message: 'ËØ∑Â°´ÂÜô‰ªãÁªç', trigger: 'blur' },\n          { min: 3, max: 40, message: 'ÈïøÂ∫¶Âú® 3 Âà∞ 40 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        education: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôÊïôËÇ≤', trigger: 'blur' },\n          { min: 2, max: 40, message: 'ÈïøÂ∫¶Âú® 2 Âà∞ 40 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        occupation: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôËÅå‰∏ö', trigger: 'blur' },\n          { min: 2, max: 40, message: 'ÈïøÂ∫¶Âú® 2 Âà∞ 40 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        web: [\n          { pattern: /^([hH][tT]{2}[pP]:\\/\\/|[hH][tT]{2}[pP][sS]:\\/\\/)(([A-Za-z0-9-~]+)\\.)+([A-Za-z0-9-~\\\\/])+$/, message: 'ÁΩëÁ´ôÊ†ºÂºè‰∏çÊ≠£Á°Æ', trigger: 'blur' }\n        ],\n\n      },\n      topicForm: {\n        name: '',//Ê†áÁ≠æÂêç\n        description: '', //Ê†áÁ≠æÊèèËø∞\n      },\n      topicRules: {\n        name: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôÂêçÁß∞', trigger: 'blur' },\n          { min: 1, max: 15, message: 'ÈïøÂ∫¶Âú® 1 Âà∞ 15 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n        description: [\n          { required: true, message: 'ËØ∑Â°´ÂÜôÊ†áÁ≠æ‰ªãÁªç', trigger: 'blur' },\n          { min: 1, max: 140, message: 'ÈïøÂ∫¶Âú® 1 Âà∞ 140 ‰∏™Â≠óÁ¨¶', trigger: 'blur' }\n        ],\n      },\n    }\n  },\n  mounted () {\n    this.loading = false;\n\n  },\n  computed: {\n\n  },\n  created: function () {\n    this.getPersonalTopic();\n    //Ëé∑ÂèñË∑ØÁî±‰º†ÈÄíËøáÊù•ÁöÑÁî®Êà∑id\n    this.id = this.$route.params.id;\n    //Êï∞ÊçÆ\n    let paramsObj = {\n      id: this.id,\n    }\n    //ÂèëÈÄÅaxios Ëé∑Âèñ‰º†ÈÄíËøáÊù•idÂØπÁî®ÁöÑÁî®Êà∑ÁöÑÊï∞ÊçÆ\n    this.$server.getInformation(paramsObj).then(data => {\n      //Ëé∑ÂèñÂà∞Áî®Êà∑ÁöÑÂü∫Êú¨‰ø°ÊÅØ\n      this.user = data;\n      //Ëé∑ÂèñÂà∞Áî®Êà∑ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ\n      //ÊääËé∑ÂèñÂà∞ÁöÑÁõ∏‰ø°‰ø°ÊÅØÊõ¥Êñ∞Âà∞ÂΩìÂâçÈ°µÈù¢\n      data.user_detail = Object.assign(data, data.user_detail);\n      this.ruleForm = data.user_detail;\n\n      // this.ruleForm['name'] = data.name;\n      // this.ruleForm['phone'] = data.phone;\n      // this.ruleForm['introduction'] = data.introduction;\n\n    }).catch(err => {\n      // eslint-disable-next-line no-console\n      console.log(err);\n    })\n  },\n  methods: {\n    //Áî®Êù•ËÆæÁΩÆvuexÁöÑÊï∞ÊçÆ\n    ...mapActions([\n      'setUser',\n    ]),\n    submitForm (formName) {\n      this.$refs[formName].validate((valid) => {\n        //Âà§Êñ≠Ë°®ÂçïÊï∞ÊçÆÊòØÂê¶Ê≠£Á°Æ\n        if (valid) {\n          //Ëé∑ÂèñË°®ÂçïÊï∞ÊçÆ\n          let paramObj = this.ruleForm;\n          //ÂèëÈÄÅËØ∑Ê±ÇÊõ¥ÊîπÁî®Êà∑‰ø°ÊÅØ\n          this.$server.editDetail(paramObj).then(data => {\n\n            //ÊèêÁ§∫‰ø°ÊÅØ\n            this.$message({\n              type: 'success',\n              message: '‰øÆÊîπÊàêÂäü üòä'\n            });\n            // eslint-disable-next-line no-console\n            console.log(this.setUser);\n            //ÊàêÂäüÂêéÊõ¥ÊîπÁî®Êà∑Êú¨Âú∞‰ø°ÊÅØ\n            this.setUser(data);\n\n\n          }).catch(err => {\n            this.$message({\n              type: 'warning',\n              message: '‰øÆÊîπÂ§±Ë¥• üòì'\n            });\n            // eslint-disable-next-line no-console\n            console.log(err);\n          })\n\n        } else {\n          //ÊèêÁ§∫‰ø°ÊÅØ\n          this.$message({\n            type: 'warning',\n            message: '‰øÆÊîπÂ§±Ë¥•,Â∏¶Êúâ * ‰∏∫ÂøÖÂ°´È°π'\n          });\n\n          return false;\n        }\n      });\n    },\n    resetForm (formName) {\n      //ÈáçÂà∂Ë°®Âçï\n      this.$refs[formName].resetFields();\n\n    },\n    //ËØùÈ¢òÊ†áÁ≠æ\n    //Âà†Èô§Ê†áÁ≠æËß¶Âèë\n    handleClose (tag) {\n      this.$confirm('ÊÇ®Â∞ÜÁßªÈô§Ê≠§Ê†áÁ≠æ', {\n        confirmButtonText: 'Á°ÆÂÆö',\n        cancelButtonText: 'ÂèñÊ∂à',\n        type: 'warning'\n      }).then(() => {\n        let paramObj = {\n          'tag': tag,\n          'uid': this.$route.params.id,\n        };\n        this.$server.delPersonalTopic(paramObj).then(data => {\n          if (data == 1) {\n            this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n            this.$message({\n              type: 'success',\n              message: 'Âà†Èô§ÊàêÂäü!'\n            });\n          }\n\n        }).catch(err => {\n          // eslint-disable-next-line no-console\n          console.log(err);\n        })\n\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: 'Â∑≤ÂèñÊ∂àÂà†Èô§'\n        });\n      });\n\n    },\n    //ÂàõÂª∫Ê†áÁ≠æÊèê‰∫§ÊåâÈíÆ\n    subTopicForm (formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          let paramObj = this.topicForm;\n          this.$server.storeTopic(paramObj).then(data => {\n            this.innerVisible = false;\n            //ÂêàÂπ∂Êï∞ÁªÑ\n            this.options = this.options.concat(data);\n          }).catch(err => {\n            // eslint-disable-next-line no-console\n            console.log(err);\n            //ÊèêÁ§∫‰ø°ÊÅØ\n            this.$message({\n              type: 'warning',\n              message: 'Ê∑ªÂä†Â§±Ë¥•ÔºåÊ†áÁ≠æÂ∑≤Â≠òÂú®'\n            });\n          });\n\n        } else {\n          // eslint-disable-next-line no-console\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    //ÁÇπÂáª‚ÄúÊ≤°ÊâæÂà∞ÊÉ≥Ë¶ÅÁöÑ‚ÄùËß¶Âèë\n    topicAdd () {\n      // eslint-disable-next-line no-console\n      console.log(this.dynamicTags);\n      this.innerVisible = true;\n\n    },\n    //ÂàõÂª∫Ê†áÁ≠æÈáçÂà∂ÊåâÈíÆ\n    resTopicForm (formName) {\n      this.$refs[formName].resetFields();\n    },\n    //Ëé∑Âèñ‰∏™‰∫∫Ê†áÁ≠æ\n    getPersonalTopic () {\n      let paramObj = this.$route.params.id;\n      this.$server.getPersonalTopic(paramObj).then(data => {\n        for (let num = 0; num < data.length; num++) {\n          this.dynamicTags.push(data[num]['topic_name']);\n        }\n        // eslint-disable-next-line no-console\n        // console.log(this.dynamicTags);\n      }).catch(err => {\n        // eslint-disable-next-line no-console\n        console.log(err);\n      })\n    },\n    //Êï∞ÁªÑÂéªÈáç Áî®Êà∑Â∑≤ÊúâÁöÑÊ†áÁ≠æ‰∏ç‰ºöÂá∫Áé∞Âú®ÈÄâÈ°πÂΩì‰∏≠\n    clearTopic () {\n      // Ëé∑Âèñ‰∏™ÊÄßÊ†áÁ≠æ\n      this.$server.allTopic().then(data => {\n        this.options = data.data;\n        for (let a = 0; a < this.options.length; a++) {\n          for (let i = 0; i < this.dynamicTags.length; i++) {\n            if (this.options[a].name == this.dynamicTags[i]) {\n              this.options.splice(a, 1);\n            }\n          }\n        }\n\n      }).catch(err => {\n        // eslint-disable-next-line no-console\n        console.log(err);\n      })\n    },\n    //ÁÇπÂáªÁ°ÆÂÆöÂ¢ûÂä†‰∏™‰∫∫Ê†áÁ≠æ\n    addPersonalTopic () {\n      let newArr = {};\n      let topicName = '';\n      let topicAddName = [];\n      for (let num = 0; num < this.defaultTopic.length; num++) {\n        for (let topicNum = 0; topicNum < this.options.length; topicNum++) {\n          if (this.options[topicNum]['id'] == this.defaultTopic[num]) {\n            topicName = this.options[topicNum]['name'];\n          }\n        }\n        newArr[num] = { 'topic_id': this.defaultTopic[num], 'topic_name': topicName };\n        topicAddName[num] = topicName;\n      }\n\n      let paramObj = newArr;\n      this.$server.addTopic(paramObj).then(data => {\n        if (data == 1) {\n          this.dynamicTags = this.dynamicTags.concat(topicAddName);\n          this.clearTopic();\n          this.defaultTopic = [];\n          this.$message({\n            type: 'success',\n            message: '‰øÆÊîπÊàêÂäü!'\n          });\n        }\n\n      }).catch(err => {\n        // eslint-disable-next-line no-console\n        console.log(err);\n      })\n    },\n\n  }\n}\n</script>"]}]}