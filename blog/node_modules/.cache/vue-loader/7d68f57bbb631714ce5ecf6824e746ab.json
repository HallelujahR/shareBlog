{"remainingRequest":"/usr/local/var/www/blog/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/local/var/www/blog/blog/src/components/User/detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/local/var/www/blog/blog/src/components/User/detail.vue","mtime":1547793389103},{"path":"/usr/local/var/www/blog/blog/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapActions } from 'vuex';\nexport default {\n  data () {\n    return {\n      dynamicTags: ['ç¯®çƒ', 'æ‘„å½±', 'çœ‹ä¹¦'],// çˆ±å¥½æ ‡ç­¾\n      inputVisible: false,\n      inputValue: '',\n\n      detail: {},\n      labelPosition: 'left',//formè¡¨å•å¯¹é½æ–¹å¼\n\n      loading: true,\n      ruleForm: {\n        phone: '',//æ‰‹æœºå·\n        name: '',//æ˜µç§°\n        introduction: '',//ä¸€å¥è¯\n        education: '',//æ•™è‚²\n        occupation: '',//èŒä¸š\n        hobby: '',//çˆ±å¥½\n        web: '',//ä¸ªäººç«™ç‚¹\n\n      },\n\n      rules: {\n        name: [\n          { required: true, message: 'è¯·å¡«å†™æ˜µç§°', trigger: 'blur' },\n          { min: 3, max: 10, message: 'é•¿åº¦åœ¨ 2 åˆ° 10 ä¸ªå­—ç¬¦', trigger: 'blur' }\n        ],\n        introduction: [\n          { required: true, message: 'è¯·å¡«å†™ä»‹ç»', trigger: 'blur' },\n          { min: 3, max: 40, message: 'é•¿åº¦åœ¨ 3 åˆ° 40 ä¸ªå­—ç¬¦', trigger: 'blur' }\n        ],\n        education: [\n          { required: true, message: 'è¯·å¡«å†™æ•™è‚²', trigger: 'blur' },\n          { min: 2, max: 40, message: 'é•¿åº¦åœ¨ 2 åˆ° 40 ä¸ªå­—ç¬¦', trigger: 'blur' }\n        ],\n        occupation: [\n          { required: true, message: 'è¯·å¡«å†™èŒä¸š', trigger: 'blur' },\n          { min: 2, max: 40, message: 'é•¿åº¦åœ¨ 2 åˆ° 40 ä¸ªå­—ç¬¦', trigger: 'blur' }\n        ],\n        web: [\n          { pattern: /^([hH][tT]{2}[pP]:\\/\\/|[hH][tT]{2}[pP][sS]:\\/\\/)(([A-Za-z0-9-~]+)\\.)+([A-Za-z0-9-~\\\\/])+$/, message: 'ç½‘ç«™æ ¼å¼ä¸æ­£ç¡®', trigger: 'blur' }\n        ]\n\n      }\n    }\n  },\n  mounted () {\n    this.loading = false;\n  },\n  computed: {\n\n  },\n  created: function () {\n\n    //è·å–è·¯ç”±ä¼ é€’è¿‡æ¥çš„ç”¨æˆ·id\n    this.id = this.$route.params.id;\n    //æ•°æ®\n    let paramsObj = {\n      id: this.id,\n    }\n    //å‘é€axios è·å–ä¼ é€’è¿‡æ¥idå¯¹ç”¨çš„ç”¨æˆ·çš„æ•°æ®\n    this.$server.getInformation(paramsObj).then(data => {\n      //è·å–åˆ°ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯\n      this.user = data;\n      //è·å–åˆ°ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯\n      //æŠŠè·å–åˆ°çš„ç›¸ä¿¡ä¿¡æ¯æ›´æ–°åˆ°å½“å‰é¡µé¢\n      this.ruleForm = data.user_detail;\n      this.ruleForm['name'] = data.name;\n      this.ruleForm['phone'] = data.phone;\n      this.ruleForm['introduction'] = data.introduction;\n\n    }).catch(err => {\n      // eslint-disable-next-line no-console\n      console.log(err);\n    })\n  },\n  methods: {\n    //ç”¨æ¥è®¾ç½®vuexçš„æ•°æ®\n    ...mapActions([\n      'setUser',\n    ]),\n    submitForm (formName) {\n      this.$refs[formName].validate((valid) => {\n        //åˆ¤æ–­è¡¨å•æ•°æ®æ˜¯å¦æ­£ç¡®\n        if (valid) {\n          //è·å–è¡¨å•æ•°æ®\n          let paramObj = this.ruleForm;\n          //å‘é€è¯·æ±‚æ›´æ”¹ç”¨æˆ·ä¿¡æ¯\n          this.$server.editDetail(paramObj).then(data => {\n\n            //æç¤ºä¿¡æ¯\n            this.$message({\n              type: 'success',\n              message: 'ä¿®æ”¹æˆåŠŸ ğŸ˜Š'\n            });\n            // eslint-disable-next-line no-console\n            console.log(this.setUser);\n            //æˆåŠŸåæ›´æ”¹ç”¨æˆ·æœ¬åœ°ä¿¡æ¯\n            this.setUser(data);\n\n\n          }).catch(err => {\n            this.$message({\n              type: 'warning',\n              message: 'ä¿®æ”¹å¤±è´¥ ğŸ˜“'\n            });\n            // eslint-disable-next-line no-console\n            console.log(err);\n          })\n\n        } else {\n          alert('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm (formName) {\n      //é‡åˆ¶è¡¨å•\n      this.$refs[formName].resetFields();\n    },\n    //çˆ±å¥½ æ ‡ç­¾çš„ç›¸å…³æ“ä½œ\n    handleClose (tag) {\n      this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n    },\n\n    //æ·»åŠ çˆ±å¥½çš„ç›¸å…³æ“ä½œ\n    showInput () {\n      this.inputVisible = true;\n      this.$nextTick(() => {\n        this.$refs.saveTagInput.$refs.input.focus();\n      });\n    },\n    //æ·»åŠ çˆ±å¥½çš„ç›¸å…³æ“ä½œ\n    handleInputConfirm () {\n      let inputValue = this.inputValue;\n      if (inputValue) {\n        this.dynamicTags.push(inputValue);\n      }\n      this.inputVisible = false;\n      this.inputValue = '';\n    }\n  }\n}\n",null]}