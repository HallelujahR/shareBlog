{"remainingRequest":"/usr/local/var/www/blog/blog/node_modules/thread-loader/dist/cjs.js!/usr/local/var/www/blog/blog/node_modules/babel-loader/lib/index.js!/usr/local/var/www/blog/blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/usr/local/var/www/blog/blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/usr/local/var/www/blog/blog/src/components/User/detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/usr/local/var/www/blog/blog/src/components/User/detail.vue","mtime":1547793389103},{"path":"/usr/local/var/www/blog/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/var/www/blog/blog/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/usr/local/var/www/blog/blog/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapActions } from 'vuex';\nexport default {\n  data: function data() {\n    return {\n      dynamicTags: ['ç¯®çƒ', 'æ‘„å½±', 'çœ‹ä¹¦'],\n      // çˆ±å¥½æ ‡ç­¾\n      inputVisible: false,\n      inputValue: '',\n      detail: {},\n      labelPosition: 'left',\n      //formè¡¨å•å¯¹é½æ–¹å¼\n      loading: true,\n      ruleForm: {\n        phone: '',\n        //æ‰‹æœºå·\n        name: '',\n        //æ˜µç§°\n        introduction: '',\n        //ä¸€å¥è¯\n        education: '',\n        //æ•™è‚²\n        occupation: '',\n        //èŒä¸š\n        hobby: '',\n        //çˆ±å¥½\n        web: '' //ä¸ªäººç«™ç‚¹\n\n      },\n      rules: {\n        name: [{\n          required: true,\n          message: 'è¯·å¡«å†™æ˜µç§°',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 10,\n          message: 'é•¿åº¦åœ¨ 2 åˆ° 10 ä¸ªå­—ç¬¦',\n          trigger: 'blur'\n        }],\n        introduction: [{\n          required: true,\n          message: 'è¯·å¡«å†™ä»‹ç»',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 40,\n          message: 'é•¿åº¦åœ¨ 3 åˆ° 40 ä¸ªå­—ç¬¦',\n          trigger: 'blur'\n        }],\n        education: [{\n          required: true,\n          message: 'è¯·å¡«å†™æ•™è‚²',\n          trigger: 'blur'\n        }, {\n          min: 2,\n          max: 40,\n          message: 'é•¿åº¦åœ¨ 2 åˆ° 40 ä¸ªå­—ç¬¦',\n          trigger: 'blur'\n        }],\n        occupation: [{\n          required: true,\n          message: 'è¯·å¡«å†™èŒä¸š',\n          trigger: 'blur'\n        }, {\n          min: 2,\n          max: 40,\n          message: 'é•¿åº¦åœ¨ 2 åˆ° 40 ä¸ªå­—ç¬¦',\n          trigger: 'blur'\n        }],\n        web: [{\n          pattern: /^([hH][tT]{2}[pP]:\\/\\/|[hH][tT]{2}[pP][sS]:\\/\\/)(([A-Za-z0-9-~]+)\\.)+([A-Za-z0-9-~\\\\/])+$/,\n          message: 'ç½‘ç«™æ ¼å¼ä¸æ­£ç¡®',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.loading = false;\n  },\n  computed: {},\n  created: function created() {\n    var _this = this;\n\n    //è·å–è·¯ç”±ä¼ é€’è¿‡æ¥çš„ç”¨æˆ·id\n    this.id = this.$route.params.id; //æ•°æ®\n\n    var paramsObj = {\n      id: this.id //å‘é€axios è·å–ä¼ é€’è¿‡æ¥idå¯¹ç”¨çš„ç”¨æˆ·çš„æ•°æ®\n\n    };\n    this.$server.getInformation(paramsObj).then(function (data) {\n      //è·å–åˆ°ç”¨æˆ·çš„åŸºæœ¬ä¿¡æ¯\n      _this.user = data; //è·å–åˆ°ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯\n      //æŠŠè·å–åˆ°çš„ç›¸ä¿¡ä¿¡æ¯æ›´æ–°åˆ°å½“å‰é¡µé¢\n\n      _this.ruleForm = data.user_detail;\n      _this.ruleForm['name'] = data.name;\n      _this.ruleForm['phone'] = data.phone;\n      _this.ruleForm['introduction'] = data.introduction;\n    }).catch(function (err) {\n      // eslint-disable-next-line no-console\n      console.log(err);\n    });\n  },\n  methods: _objectSpread({}, mapActions(['setUser']), {\n    submitForm: function submitForm(formName) {\n      var _this2 = this;\n\n      this.$refs[formName].validate(function (valid) {\n        //åˆ¤æ–­è¡¨å•æ•°æ®æ˜¯å¦æ­£ç¡®\n        if (valid) {\n          //è·å–è¡¨å•æ•°æ®\n          var paramObj = _this2.ruleForm; //å‘é€è¯·æ±‚æ›´æ”¹ç”¨æˆ·ä¿¡æ¯\n\n          _this2.$server.editDetail(paramObj).then(function (data) {\n            //æç¤ºä¿¡æ¯\n            _this2.$message({\n              type: 'success',\n              message: 'ä¿®æ”¹æˆåŠŸ ğŸ˜Š'\n            }); // eslint-disable-next-line no-console\n\n\n            console.log(_this2.setUser); //æˆåŠŸåæ›´æ”¹ç”¨æˆ·æœ¬åœ°ä¿¡æ¯\n\n            _this2.setUser(data);\n          }).catch(function (err) {\n            _this2.$message({\n              type: 'warning',\n              message: 'ä¿®æ”¹å¤±è´¥ ğŸ˜“'\n            }); // eslint-disable-next-line no-console\n\n\n            console.log(err);\n          });\n        } else {\n          alert('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm: function resetForm(formName) {\n      //é‡åˆ¶è¡¨å•\n      this.$refs[formName].resetFields();\n    },\n    //çˆ±å¥½ æ ‡ç­¾çš„ç›¸å…³æ“ä½œ\n    handleClose: function handleClose(tag) {\n      this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n    },\n    //æ·»åŠ çˆ±å¥½çš„ç›¸å…³æ“ä½œ\n    showInput: function showInput() {\n      var _this3 = this;\n\n      this.inputVisible = true;\n      this.$nextTick(function () {\n        _this3.$refs.saveTagInput.$refs.input.focus();\n      });\n    },\n    //æ·»åŠ çˆ±å¥½çš„ç›¸å…³æ“ä½œ\n    handleInputConfirm: function handleInputConfirm() {\n      var inputValue = this.inputValue;\n\n      if (inputValue) {\n        this.dynamicTags.push(inputValue);\n      }\n\n      this.inputVisible = false;\n      this.inputValue = '';\n    }\n  })\n};",null]}